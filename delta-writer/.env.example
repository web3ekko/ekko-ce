# Ekko Transactions Writer Service Configuration

# Service Configuration
SERVICE_NAME=transactions-writer
METRICS_PORT=9090

# NATS Configuration
NATS_URL=nats://localhost:4222
# Subscribe to all processed transactions from pipeline
# Subject pattern: transactions.{vmtype}.{network}.{subnet}
# Examples: transactions.subnet-evm.avalanche.mainnet
#          transactions.evm.ethereum.mainnet
NATS_SUBJECT=transactions.>
NATS_CONSUMER_NAME=transactions-writer
NATS_STREAM_NAME=BLOCKCHAIN

# MinIO/S3 Configuration
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
# S3_REGION is not required for MinIO but some clients expect it
S3_REGION=us-east-1
S3_BUCKET=blockchain-events
S3_USE_SSL=false

# Delta Lake Configuration
# Base path - actual tables will be at events/{network}/{subnet}
DELTA_TABLE_BASE_PATH=events
BATCH_SIZE=1000
FLUSH_INTERVAL_SECONDS=30
MAX_CONCURRENT_WRITES=4

# Processing Configuration
WORKER_THREADS=4
BUFFER_SIZE=10000
RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000

# Logging Configuration
RUST_LOG=info,ekko_delta_writer=debug
